---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseLayout from './BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description} showParticles={false}>
	<!-- Blog Post Header -->
	<section class="pt-20 pb-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-4xl mx-auto">
			{heroImage && (
				<div class="mb-8">
					<Image 
						width={1020} 
						height={510} 
						src={heroImage} 
						alt={title}
						class="w-full h-auto rounded-lg shadow-lg"
					/>
				</div>
			)}
			<div class="text-center">
				<div class="text-sm text-blue-400 font-semibold mb-4">
					<FormattedDate date={pubDate} />
					{updatedDate && (
						<span class="block text-gray-500 font-normal italic mt-1">
							Last updated on <FormattedDate date={updatedDate} />
						</span>
					)}
				</div>
				<h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-100">{title}</h1>
				{description && (
					<p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">{description}</p>
				)}
				<div class="w-24 h-1 bg-blue-600 mx-auto rounded"></div>
			</div>
		</div>
	</section>

	<!-- Blog Post Content -->
	<section class="py-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-4xl mx-auto">
			<article class="prose prose-lg max-w-none">
				<slot />
			</article>
		</div>
	</section>

	<!-- Back to Blog -->
	<section class="py-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-4xl mx-auto text-center">
			<a 
				href="/blog" 
				class="inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold"
			>
				‚Üê Back to Blog
			</a>
		</div>
	</section>
</BaseLayout>
