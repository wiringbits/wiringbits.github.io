---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const testimonials = await getCollection("testimonials");
---

<BaseLayout
  title="Testimonials"
  description="What colleagues and clients say about working with Alexis Hernandez"
>
  <section class="px-4 pt-20 pb-16 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-7xl">
      <div class="mb-12 text-center">
        <h1 class="mb-4 text-4xl font-bold md:text-6xl">Testimonials</h1>
        <p class="text-xl text-gray-300">
          What colleagues and clients say about working with me
        </p>
      </div>

      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {
          testimonials.map((testimonial) => (
            <div class="rounded-lg bg-gray-800 p-6 shadow-lg transition-shadow hover:shadow-xl">
              <div class="mb-4">
                <svg
                  class="mb-2 h-8 w-8 text-blue-500"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <p class="mb-6 text-justify whitespace-pre-line text-gray-300 italic">
                "{testimonial.body}"
              </p>
              <div class="flex items-center">
                <Image
                  src={testimonial.data.image}
                  alt={testimonial.data.author}
                  class="mr-4 h-12 w-12 rounded-full object-cover"
                  width={48}
                  height={48}
                />
                <div>
                  <p class="text-lg font-semibold">{testimonial.data.author}</p>
                  <p class="text-sm text-gray-400">
                    {testimonial.data.position}
                  </p>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </section>
</BaseLayout>
