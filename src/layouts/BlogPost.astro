---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseLayout from './BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description} showParticles={false}>
	<!-- Blog Post Header -->
	<section class="pt-20 pb-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-4xl mx-auto">
			{heroImage && (
				<div class="mb-8">
					<Image 
						width={1020} 
						height={510} 
						src={heroImage} 
						alt={title}
						class="w-full h-auto rounded-lg shadow-lg"
					/>
				</div>
			)}
			<div class="text-center">
				<div class="text-sm text-blue-400 font-semibold mb-4">
					<FormattedDate date={pubDate} />
					{updatedDate && (
						<span class="block text-gray-500 font-normal italic mt-1">
							Last updated on <FormattedDate date={updatedDate} />
						</span>
					)}
				</div>
				<h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-100">{title}</h1>
				{description && (
					<p class="text-xl text-gray-300 mb-8 max-w-3xl mx-auto">{description}</p>
				)}
				<div class="w-24 h-1 bg-blue-600 mx-auto rounded"></div>
			</div>
		</div>
	</section>

	<!-- Blog Post Content -->
	<section class="py-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-4xl mx-auto">
			<article class="prose prose-lg prose-invert max-w-none blog-content">
				<slot />
			</article>
		</div>
	</section>

	<!-- Back to Blog -->
	<section class="py-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-4xl mx-auto text-center">
			<a 
				href="/blog" 
				class="inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold"
			>
				← Back to Blog
			</a>
		</div>
	</section>
</BaseLayout>

<style is:global>
	.blog-content a {
		color: #60a5fa !important;
		text-decoration: none !important;
	}
	
	.blog-content a:hover {
		color: #93c5fd !important;
		text-decoration: underline !important;
	}
	
	.blog-content ul {
		list-style-type: disc !important;
		list-style-position: outside !important;
		padding-left: 2rem !important;
		margin-left: 0 !important;
	}
	
	.blog-content ul li {
		color: #d1d5db !important;
		margin-bottom: 0.5rem !important;
		display: list-item !important;
	}
	
	.blog-content ul li::marker {
		color: #d1d5db !important;
		content: "• " !important;
	}
	
	.blog-content p {
		color: #d1d5db !important;
		line-height: 1.75 !important;
	}
	
	.blog-content h1,
	.blog-content h2,
	.blog-content h3,
	.blog-content h4,
	.blog-content h5,
	.blog-content h6 {
		color: #f3f4f6 !important;
		font-weight: 600 !important;
	}
	
	/* Override any conflicting prose styles */
	.prose.blog-content a {
		color: #60a5fa !important;
	}
	
	.prose.blog-content ul {
		list-style-type: disc !important;
	}
	
	.prose.blog-content li {
		color: #d1d5db !important;
	}
</style>
